{
  "id": "0e7bd23c-6475-4ce6-8c17-ba16d63638d6",
  "revision": 0,
  "last_node_id": 100,
  "last_link_id": 297,
  "nodes": [
    {
      "id": 3,
      "type": "KSampler",
      "pos": [
        1194,
        80
      ],
      "size": [
        315,
        262
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 247
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 248
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 249
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 250
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            7
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "KSampler"
      },
      "widgets_values": [
        1053066333827373,
        "randomize",
        8,
        1.5,
        "ddpm",
        "karras",
        0.8
      ]
    },
    {
      "id": 72,
      "type": "ImageBatch",
      "pos": [
        666.8658447265625,
        426.9612731933594
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 254
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 256
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            253
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": []
    },
    {
      "id": 74,
      "type": "ImageBatch",
      "pos": [
        667.2098388671875,
        521.6218872070312
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 257
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 258
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            256
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": []
    },
    {
      "id": 76,
      "type": "ImageBatch",
      "pos": [
        671.2098388671875,
        628.6218872070312
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 259
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 260
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            258
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": []
    },
    {
      "id": 77,
      "type": "ImageBatch",
      "pos": [
        667.8651123046875,
        737.8501586914062
      ],
      "size": [
        140,
        46
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 262
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 263
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            260
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ImageBatch"
      },
      "widgets_values": []
    },
    {
      "id": 4,
      "type": "CheckpointLoaderSimple",
      "pos": [
        492.99993896484375,
        232.68994140625
      ],
      "size": [
        315,
        98
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            242
          ]
        },
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 1,
          "links": [
            243
          ]
        },
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 2,
          "links": [
            8,
            244
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "CheckpointLoaderSimple"
      },
      "widgets_values": [
        "RealVisXL_V4.0_Lightning.safetensors"
      ]
    },
    {
      "id": 16,
      "type": "ControlNetLoader",
      "pos": [
        790.8399658203125,
        -310.2900390625
      ],
      "size": [
        250.07241821289062,
        58
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CONTROL_NET",
          "type": "CONTROL_NET",
          "slot_index": 0,
          "links": [
            241
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "ControlNetLoader"
      },
      "widgets_values": [
        "ControlNetModel\\diffusion_pytorch_model.safetensors"
      ]
    },
    {
      "id": 70,
      "type": "ApplyZenID",
      "pos": [
        842,
        87
      ],
      "size": [
        315,
        322
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "name": "control_net",
          "type": "CONTROL_NET",
          "link": 241
        },
        {
          "name": "model",
          "type": "MODEL",
          "link": 242
        },
        {
          "name": "clip",
          "type": "CLIP",
          "link": 243
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 244
        },
        {
          "name": "image_source",
          "type": "IMAGE",
          "link": 265
        },
        {
          "name": "image_face",
          "type": "IMAGE",
          "link": 253
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 268
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            247
          ]
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "slot_index": 1,
          "links": [
            248
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "slot_index": 2,
          "links": [
            249
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "slot_index": 3,
          "links": [
            250
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui_zenid",
        "ver": "21b90a97c530df6e218cdbe5117a0b331708eab6",
        "Node name for S&R": "ApplyZenID"
      },
      "widgets_values": [
        "ip-adapter.bin",
        "CPU",
        0.8,
        0,
        1,
        51,
        "average"
      ]
    },
    {
      "id": 82,
      "type": "InpaintStitchImproved",
      "pos": [
        1735.0982666015625,
        -341.333740234375
      ],
      "size": [
        215.03671264648438,
        46
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "link": 269
        },
        {
          "name": "inpainted_image",
          "type": "IMAGE",
          "link": 272
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            270,
            271
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "b432b2411cbb7d3192d35953bd3aafea05a0e245",
        "Node name for S&R": "InpaintStitchImproved"
      },
      "widgets_values": []
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        1549,
        121
      ],
      "size": [
        210,
        46
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 7
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 8
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            19,
            272
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "VAEDecode"
      },
      "widgets_values": []
    },
    {
      "id": 15,
      "type": "PreviewImage",
      "pos": [
        2030.0054931640625,
        510.64093017578125
      ],
      "size": [
        148.05255126953125,
        246
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 19
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 83,
      "type": "PreviewImage",
      "pos": [
        2278.85302734375,
        56.297916412353516
      ],
      "size": [
        147.31100463867188,
        246
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 271
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 80,
      "type": "SaveImage",
      "pos": [
        2270.1708984375,
        -347.3940734863281
      ],
      "size": [
        210,
        270
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 270
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43"
      },
      "widgets_values": [
        "ComfyUI"
      ]
    },
    {
      "id": 81,
      "type": "InpaintCropImproved",
      "pos": [
        224.08444213867188,
        -525.4788818359375
      ],
      "size": [
        348.095703125,
        626
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 266
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": 267
        },
        {
          "name": "optional_context_mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "stitcher",
          "type": "STITCHER",
          "links": [
            269
          ]
        },
        {
          "name": "cropped_image",
          "type": "IMAGE",
          "links": [
            265
          ]
        },
        {
          "name": "cropped_mask",
          "type": "MASK",
          "links": [
            268
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-inpaint-cropandstitch",
        "ver": "b432b2411cbb7d3192d35953bd3aafea05a0e245",
        "Node name for S&R": "InpaintCropImproved"
      },
      "widgets_values": [
        "bilinear",
        "bicubic",
        false,
        "ensure minimum resolution",
        1024,
        1024,
        16384,
        16384,
        true,
        0,
        false,
        32,
        0.1,
        false,
        1,
        1,
        1,
        1,
        1.2,
        true,
        1024,
        1024,
        "32"
      ]
    },
    {
      "id": 13,
      "type": "LoadImage",
      "pos": [
        -87.19998931884766,
        -68.40001678466797
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            266
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "slot_index": 1,
          "links": [
            267
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 73,
      "type": "LoadImage",
      "pos": [
        -141.36354064941406,
        462.7963562011719
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            257
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 75,
      "type": "LoadImage",
      "pos": [
        90.28704833984375,
        423.87847900390625
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            259
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 79,
      "type": "LoadImage",
      "pos": [
        345.28704833984375,
        436.87841796875
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            263
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 69,
      "type": "LoadImage",
      "pos": [
        63.39241027832031,
        805.8394775390625
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            254
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    },
    {
      "id": 78,
      "type": "LoadImage",
      "pos": [
        368.28704833984375,
        800.8784790039062
      ],
      "size": [
        210,
        314
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            262
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.43",
        "Node name for S&R": "LoadImage"
      },
      "widgets_values": [
        "example.png",
        "image"
      ]
    }
  ],
  "links": [
    [
      7,
      3,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      8,
      4,
      2,
      8,
      1,
      "VAE"
    ],
    [
      19,
      8,
      0,
      15,
      0,
      "IMAGE"
    ],
    [
      241,
      16,
      0,
      70,
      0,
      "CONTROL_NET"
    ],
    [
      242,
      4,
      0,
      70,
      1,
      "MODEL"
    ],
    [
      243,
      4,
      1,
      70,
      2,
      "CLIP"
    ],
    [
      244,
      4,
      2,
      70,
      3,
      "VAE"
    ],
    [
      247,
      70,
      0,
      3,
      0,
      "MODEL"
    ],
    [
      248,
      70,
      1,
      3,
      1,
      "CONDITIONING"
    ],
    [
      249,
      70,
      2,
      3,
      2,
      "CONDITIONING"
    ],
    [
      250,
      70,
      3,
      3,
      3,
      "LATENT"
    ],
    [
      253,
      72,
      0,
      70,
      5,
      "IMAGE"
    ],
    [
      254,
      69,
      0,
      72,
      0,
      "IMAGE"
    ],
    [
      256,
      74,
      0,
      72,
      1,
      "IMAGE"
    ],
    [
      257,
      73,
      0,
      74,
      0,
      "IMAGE"
    ],
    [
      258,
      76,
      0,
      74,
      1,
      "IMAGE"
    ],
    [
      259,
      75,
      0,
      76,
      0,
      "IMAGE"
    ],
    [
      260,
      77,
      0,
      76,
      1,
      "IMAGE"
    ],
    [
      262,
      78,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      263,
      79,
      0,
      77,
      1,
      "IMAGE"
    ],
    [
      265,
      81,
      1,
      70,
      4,
      "IMAGE"
    ],
    [
      266,
      13,
      0,
      81,
      0,
      "IMAGE"
    ],
    [
      267,
      13,
      1,
      81,
      1,
      "MASK"
    ],
    [
      268,
      81,
      2,
      70,
      6,
      "MASK"
    ],
    [
      269,
      81,
      0,
      82,
      0,
      "STITCHER"
    ],
    [
      270,
      82,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      271,
      82,
      0,
      83,
      0,
      "IMAGE"
    ],
    [
      272,
      8,
      0,
      82,
      1,
      "IMAGE"
    ]
  ],
  "groups": [],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.8390545288824038,
      "offset": [
        719.2396249246766,
        491.15069537634236
      ]
    },
    "frontendVersion": "1.23.4"
  },
  "version": 0.4
}